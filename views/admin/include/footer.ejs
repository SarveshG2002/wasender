<script src="https://cdn.jsdelivr.net/npm/toastr@2.1.4/toastr.min.js"></script>
<script>
    let menus = document.querySelectorAll(".mmenu");

    menus.forEach((menu) => {
        menu.addEventListener('click', function () {
            const subMenu = this.querySelector('.sub-menu'); // Get the sub-menu of the clicked menu
            const isVisible = !subMenu.classList.contains('hidden'); // Check if the sub-menu is visible

            // Hide all other sub-menus first
            document.querySelectorAll('.sub-menu').forEach((submenu) => {
                submenu.classList.add('hidden');
            });

            document.querySelectorAll('.fa-angle-left').forEach((arrow) => {
                arrow.classList.add('rotate-180');
                arrow.classList.remove('rotate-[270deg]');
            });

            let arrow = menu.querySelector(".fa-angle-left")
            // If this sub-menu was hidden, show it
            if (isVisible) {
                subMenu.classList.add('hidden');
                arrow.classList.add("rotate-180")
                arrow.classList.remove("rotate-[270deg]")
                
            } else {
                subMenu.classList.remove('hidden');
                arrow.classList.remove("rotate-180")
                arrow.classList.add("rotate-[270deg]")
            }
        });
    });

    function setSelected(bod=null){
        if(bod==null){
            bod = document;
        }
        bod.querySelectorAll(".selectElement").forEach((ele,i)=>{
           new SlimSelect({
                select: ele
            })
        })
    }

    function showLoader() {
            document.getElementById('loader').classList.remove('hidden');
        }

        // Function to hide the loader
        function hideLoader() {
            document.getElementById('loader').classList.add('hidden');
        }

    setSelected();    

    <% if (session.error) { %>
        toastr.error("<%= session.error %>")
        <%= helper.clearErrorSuccess() %>
    <% } %>
    <% if (session.success) { %>
    toastr.success("<%= session.success %>")
        <%= helper.clearErrorSuccess() %>
    <% } %>
    
</script>